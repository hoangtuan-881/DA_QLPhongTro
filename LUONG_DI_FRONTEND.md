# ğŸ”„ LUá»’NG ÄI (FLOW) - FRONTEND PROJECT

## ğŸ“Š Tá»”NG QUAN Há»† THá»NG

**Tech Stack:**
- React 19 + TypeScript 5.8
- Vite 7 (Build tool)
- React Router v7
- Tailwind CSS 3.4
- Axios (HTTP Client)

**Tá»•ng sá»‘ Pages:** 27 pages (táº¥t cáº£ lazy-loaded)

---

## ğŸ—ºï¸ LUá»’NG ÄIá»€U HÆ¯á»šNG CHÃNH

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         APP ROOT                            â”‚
â”‚                      (BrowserRouter)                        â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              AuthProvider (Context)               â”‚    â”‚
â”‚  â”‚                                                   â”‚    â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚    â”‚
â”‚  â”‚    â”‚         AppRoutes (Router)           â”‚     â”‚    â”‚
â”‚  â”‚    â”‚                                      â”‚     â”‚    â”‚
â”‚  â”‚    â”‚   [27 Lazy-Loaded Page Components]  â”‚     â”‚    â”‚
â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚    â”‚
â”‚  â”‚                                                   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â”‚              ToastContainer (Global)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ LUá»’NG NGÆ¯á»œI DÃ™NG (USER FLOW)

### **1. LUá»’NG CHÆ¯A ÄÄ‚NG NHáº¬P (Public Routes)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Browser    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   /          â”‚â”€â”€â”€â”€â”€â–¶â”‚  Home Page       â”‚
â”‚   (Landing)  â”‚      â”‚  (Trang chá»§)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                      â”‚
       â”‚                      â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚             â”‚                 â”‚              â”‚
       â–¼             â–¼                 â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  /login     â”‚ â”‚  /register  â”‚ â”‚ /forgot-     â”‚ â”‚ /available-â”‚
â”‚  (ÄÄƒng nháº­p)â”‚ â”‚  (ÄÄƒng kÃ½)  â”‚ â”‚ password     â”‚ â”‚ rooms      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ (After Login)
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  REDIRECT   â”‚â”€â”€â”€â”€â”€â–¶ Dashboard (Admin/Customer)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### **2. LUá»’NG ADMIN (Authenticated - Admin Role)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ADMIN LAYOUT                          â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Sidebar   â”‚  â”‚         Main Content           â”‚   â”‚
â”‚  â”‚             â”‚  â”‚                                â”‚   â”‚
â”‚  â”‚  14 Menus   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”‚
â”‚  â”‚             â”‚  â”‚  â”‚   Header (Top Bar)   â”‚     â”‚   â”‚
â”‚  â”‚             â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â”‚
â”‚  â”‚             â”‚  â”‚                                â”‚   â”‚
â”‚  â”‚             â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”‚
â”‚  â”‚             â”‚  â”‚  â”‚   Page Content       â”‚     â”‚   â”‚
â”‚  â”‚             â”‚  â”‚  â”‚   (Dynamic)          â”‚     â”‚   â”‚
â”‚  â”‚             â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Sidebar Menu Structure (14 má»¥c):**

```
ğŸ“Š Tá»•ng quan          â†’ /dashboard
ğŸ·ï¸  Loáº¡i phÃ²ng         â†’ /room-types
ğŸ¢ Quáº£n lÃ½ phÃ²ng      â†’ /rooms
ğŸ‘¤ KhÃ¡ch thuÃª         â†’ /tenants âœ… (ÄÃ£ káº¿t ná»‘i API)
ğŸ“… Äáº·t phÃ²ng          â†’ /bookings
ğŸ“„ Há»£p Ä‘á»“ng           â†’ /contracts
ğŸ’³ Thanh toÃ¡n         â†’ /payments
ğŸ”§ Dá»‹ch vá»¥            â†’ /services
ğŸ› ï¸  Báº£o trÃ¬            â†’ /maintenance
âš™ï¸  Thiáº¿t bá»‹           â†’ /equipment
ğŸ“Š BÃ¡o cÃ¡o & Thá»‘ng kÃª â†’ /reports
ğŸ›¡ï¸  Ná»™i quy vÃ  vi pháº¡m â†’ /rules
ğŸ”” ThÃ´ng bÃ¡o          â†’ /notifications
ğŸ‘¥ Quáº£n lÃ½ tÃ i khoáº£n  â†’ /user-management
âš™ï¸  CÃ i Ä‘áº·t            â†’ /settings
```

---

### **3. LUá»’NG CUSTOMER (Authenticated - Customer Role)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  CUSTOMER LAYOUT                         â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Sidebar   â”‚  â”‚         Main Content           â”‚   â”‚
â”‚  â”‚             â”‚  â”‚                                â”‚   â”‚
â”‚  â”‚  4-5 Menus  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”‚
â”‚  â”‚             â”‚  â”‚  â”‚   Header (Top Bar)   â”‚     â”‚   â”‚
â”‚  â”‚             â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â”‚
â”‚  â”‚             â”‚  â”‚                                â”‚   â”‚
â”‚  â”‚             â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”‚
â”‚  â”‚             â”‚  â”‚  â”‚   Page Content       â”‚     â”‚   â”‚
â”‚  â”‚             â”‚  â”‚  â”‚   (Customer View)    â”‚     â”‚   â”‚
â”‚  â”‚             â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Customer Menu:**
```
ğŸ“Š Dashboard         â†’ /customer-dashboard
ğŸ¢ PhÃ²ng trá»‘ng       â†’ /available-rooms
ğŸ› ï¸  YÃªu cáº§u báº£o trÃ¬   â†’ /maintenance-request
ğŸ‘¤ ThÃ´ng tin cÃ¡ nhÃ¢n â†’ /profile
```

---

## ğŸ“¦ LUá»’NG TÆ¯Æ NG TÃC PAGE (Page Flow)

### **VÃ­ dá»¥: Luá»“ng quáº£n lÃ½ KHÃCH THUÃŠ** âœ…

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    /tenants (KhÃ¡ch thuÃª)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  1. Component Mount                   â”‚
        â”‚     - useState() khá»Ÿi táº¡o states      â”‚
        â”‚     - useEffect() trigger              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  2. useEffect() - Data Fetching       â”‚
        â”‚     - AbortController táº¡o             â”‚
        â”‚     - khachThueService.getAll(signal) â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                               â”‚
        â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  API Success  â”‚             â”‚   API Error     â”‚
â”‚  - setTenants()â”‚             â”‚   - toast.error()â”‚
â”‚  - setLoading()â”‚             â”‚   - setLoading()â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. Render UI (Conditional)                   â”‚
â”‚     - Loading â†’ Spinner                       â”‚
â”‚     - Empty â†’ "ChÆ°a cÃ³ dá»¯ liá»‡u"               â”‚
â”‚     - Success â†’ Table + Actions               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚        â”‚        â”‚        â”‚        â”‚
        â–¼        â–¼        â–¼        â–¼        â–¼
    â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”
    â”‚ Xem â”‚  â”‚ThÃªmâ”‚  â”‚Sá»­a â”‚  â”‚XÃ³a â”‚  â”‚TÃ¬m â”‚
    â””â”€â”€â”¬â”€â”€â”˜  â””â”€â”¬â”€â”€â”˜  â””â”€â”¬â”€â”€â”˜  â””â”€â”¬â”€â”€â”˜  â””â”€â”¬â”€â”€â”˜
       â”‚       â”‚       â”‚       â”‚       â”‚
       â–¼       â–¼       â–¼       â–¼       â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”   â”‚
   â”‚Detailâ”‚â”‚ Add  â”‚â”‚ Edit â”‚â”‚Deleteâ”‚   â”‚
   â”‚Modal â”‚â”‚Modal â”‚â”‚Modal â”‚â”‚Dialogâ”‚   â”‚
   â””â”€â”€â”€â”€â”€â”€â”˜â””â”€â”¬â”€â”€â”€â”€â”˜â””â”€â”¬â”€â”€â”€â”€â”˜â””â”€â”€â”¬â”€â”€â”€â”˜   â”‚
           â”‚      â”‚      â”‚         â”‚
           â–¼      â–¼      â–¼         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
        â”‚  API Call (CRUD)     â”‚   â”‚
        â”‚  - create()          â”‚   â”‚
        â”‚  - update()          â”‚   â”‚
        â”‚  - delete()          â”‚   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                   â”‚                â”‚
                   â–¼                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
        â”‚  refreshData()        â”‚   â”‚
        â”‚  - setLoading(true)   â”‚   â”‚
        â”‚  - setRefreshKey++    â”‚   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                   â”‚                â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                    â”‚
                                    â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ Filter & Search   â”‚
                        â”‚ - Local filtering â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ LUá»’NG Xá»¬ LÃ Dá»® LIá»†U (Data Flow)

### **Pattern chuáº©n cho má»i page cÃ³ API:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     COMPONENT STATE                          â”‚
â”‚                                                              â”‚
â”‚  [data, setData] = useState([])                             â”‚
â”‚  [loading, setLoading] = useState(true)  â† Initial TRUE!   â”‚
â”‚  [refreshKey, setRefreshKey] = useState(0)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    useEffect Hook                            â”‚
â”‚                                                              â”‚
â”‚  useEffect(() => {                                           â”‚
â”‚    const controller = new AbortController()                  â”‚
â”‚                                                              â”‚
â”‚    const fetchData = async () => {                           â”‚
â”‚      try {                                                   â”‚
â”‚        const response = await service.getAll(signal)         â”‚
â”‚        if (!controller.signal.aborted) {                     â”‚
â”‚          setData(response.data.data)                         â”‚
â”‚          setLoading(false)                                   â”‚
â”‚        }                                                     â”‚
â”‚      } catch (error) {                                       â”‚
â”‚        if (error.name !== 'CanceledError') {                â”‚
â”‚          toast.error(getErrorMessage(error))                 â”‚
â”‚          setLoading(false)                                   â”‚
â”‚        }                                                     â”‚
â”‚      }                                                       â”‚
â”‚    }                                                         â”‚
â”‚                                                              â”‚
â”‚    fetchData()                                               â”‚
â”‚    return () => controller.abort()  â† Cleanup!             â”‚
â”‚  }, [refreshKey])                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SERVICE LAYER                             â”‚
â”‚                                                              â”‚
â”‚  class Service {                                             â”‚
â”‚    async getAll(signal?: AbortSignal) {                     â”‚
â”‚      return httpClient.get(endpoint, { signal })            â”‚
â”‚    }                                                         â”‚
â”‚  }                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    HTTP CLIENT (Axios)                       â”‚
â”‚                                                              â”‚
â”‚  axios.get(url, config)                                      â”‚
â”‚    â†’ Backend API (Laravel)                                   â”‚
â”‚    â† JSON Response                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ERROR HANDLING                            â”‚
â”‚                                                              â”‚
â”‚  getErrorMessage(error)                                      â”‚
â”‚    1. Check validation errors (chi tiáº¿t)                     â”‚
â”‚    2. Check general message                                  â”‚
â”‚    3. Check network errors                                   â”‚
â”‚    4. Return default message                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” AUTHENTICATION FLOW

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AuthContext (Provider)                    â”‚
â”‚                                                              â”‚
â”‚  Context provides:                                           â”‚
â”‚    - user: User | null                                       â”‚
â”‚    - login(credentials)                                      â”‚
â”‚    - logout()                                                â”‚
â”‚    - isAuthenticated: boolean                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                               â”‚
            â–¼                               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Public     â”‚              â”‚  Protected   â”‚
    â”‚   Routes     â”‚              â”‚   Routes     â”‚
    â”‚              â”‚              â”‚              â”‚
    â”‚ - /          â”‚              â”‚ - /dashboard â”‚
    â”‚ - /login     â”‚              â”‚ - /rooms     â”‚
    â”‚ - /register  â”‚              â”‚ - /tenants   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ - ...        â”‚
                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â”‚ (Check Auth)
                                         â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                                      â”‚
                    â–¼                                      â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  Authenticated  â”‚                  â”‚ Not Authenticatedâ”‚
          â”‚  â†’ Allow Access â”‚                  â”‚  â†’ Redirect      â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚     to /login    â”‚
                                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± RESPONSIVE BEHAVIOR

```
Desktop (â‰¥1024px)                Mobile (<1024px)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚           â”‚ â˜°  Header    â”‚
â”‚ â”‚ S â”‚ â”‚          â”‚ â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ â”‚ i â”‚ â”‚  Main    â”‚ â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”‚ d â”‚ â”‚ Content  â”‚ â”‚           â”‚              â”‚
â”‚ â”‚ e â”‚ â”‚          â”‚ â”‚           â”‚  Main        â”‚
â”‚ â”‚ b â”‚ â”‚          â”‚ â”‚           â”‚  Content     â”‚
â”‚ â”‚ a â”‚ â”‚          â”‚ â”‚           â”‚              â”‚
â”‚ â”‚ r â”‚ â”‚          â”‚ â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                 â”‚   Overlay    â”‚
Sidebar: Always visible          â”‚   Sidebar    â”‚
                                 â”‚   (Toggle)   â”‚
                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                 Sidebar: Toggle vá»›i overlay
```

---

## ğŸ¨ COMPONENT ARCHITECTURE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    src/ Structure                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”œâ”€â”€ pages/
â”‚   â””â”€â”€ {feature}/
â”‚       â”œâ”€â”€ page.tsx              â† Main page (export default)
â”‚       â””â”€â”€ components/           â† Feature-specific components
â”‚           â”œâ”€â”€ Header.tsx
â”‚           â””â”€â”€ Table.tsx
â”‚
â”œâ”€â”€ components/
â”‚   â””â”€â”€ base/                     â† Reusable across app
â”‚       â”œâ”€â”€ Toast.tsx
â”‚       â”œâ”€â”€ ConfirmDialog.tsx
â”‚       â””â”€â”€ LoadingSpinner.tsx
â”‚
â”œâ”€â”€ services/
â”‚   â””â”€â”€ {entity}.service.ts      â† API calls (CRUD)
â”‚
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ use{Feature}.ts          â† Custom hooks
â”‚
â”œâ”€â”€ contexts/
â”‚   â””â”€â”€ AuthContext.tsx          â† Global state
â”‚
â”œâ”€â”€ router/
â”‚   â”œâ”€â”€ config.tsx               â† Route definitions
â”‚   â””â”€â”€ index.ts                 â† Router export
â”‚
â””â”€â”€ lib/
    â””â”€â”€ http-client.ts           â† Axios instance + helpers
```

---

## ğŸ”„ COMMON PATTERNS USED

### **1. Lazy Loading (Code Splitting)**
```tsx
const Dashboard = lazy(() => import('../pages/dashboard/page'));
```

### **2. AbortController (Prevent duplicate API calls)**
```tsx
useEffect(() => {
  const controller = new AbortController();
  fetchData(controller.signal);
  return () => controller.abort();
}, []);
```

### **3. Loading State Management**
```tsx
const [loading, setLoading] = useState(true);  // âœ… Initial TRUE
```

### **4. Error Handling**
```tsx
try {
  await service.create(data);
  toast.success({ title: 'ThÃ nh cÃ´ng' });
} catch (error) {
  toast.error({ message: getErrorMessage(error) });
}
```

### **5. Filter & Search (Client-side)**
```tsx
const filtered = data.filter(item =>
  item.name.includes(searchTerm) &&
  (filterStatus === 'all' || item.status === filterStatus)
);
```

---

## ğŸ¯ KEY FEATURES

âœ… **Lazy Loading** - Táº¥t cáº£ 27 pages Ä‘á»u lazy load
âœ… **AbortController** - TrÃ¡nh duplicate API calls (React StrictMode)
âœ… **Loading States** - Initial loading = true, trÃ¡nh flash empty state
âœ… **Error Handling** - Validation errors prioritized, detailed messages
âœ… **TypeScript** - Strict mode, full type safety
âœ… **Responsive** - Mobile-first vá»›i Tailwind CSS
âœ… **i18n Ready** - useTranslation() hooks (chÆ°a implement translation files)
âœ… **Toast Notifications** - Global toast system
âœ… **Confirm Dialogs** - Reusable confirmation dialogs

---

## ğŸš¦ ERROR PAGES

```
/403  â†’ Forbidden (KhÃ´ng cÃ³ quyá»n)
/404  â†’ Page Not Found
/*    â†’ NotFound (Catch-all)
```

---

## ğŸ“Š STATUS TÃ TÃCH Há»¢P API

| Page | Status | API Endpoint | Notes |
|------|--------|-------------|-------|
| Dashboard | ğŸŸ¡ Mock | - | ChÆ°a cÃ³ API |
| Room Types | ğŸŸ¢ Connected | `/admin/loai-phong` | HoÃ n chá»‰nh |
| Rooms | ğŸŸ¢ Connected | `/admin/phong-tro` | HoÃ n chá»‰nh |
| **Tenants** | ğŸŸ¢ **Connected** | `/admin/khach-thue` | **Má»›i hoÃ n thÃ nh** âœ… |
| Bookings | ğŸŸ¡ Mock | - | ChÆ°a cÃ³ API |
| Contracts | ğŸŸ¡ Mock | - | ChÆ°a cÃ³ API |
| Payments | ğŸŸ¡ Mock | - | ChÆ°a cÃ³ API |
| Services | ğŸŸ¡ Mock | - | ChÆ°a cÃ³ API |
| Maintenance | ğŸŸ¡ Mock | - | ChÆ°a cÃ³ API |
| Equipment | ğŸŸ¡ Mock | - | ChÆ°a cÃ³ API |
| Reports | ğŸŸ¡ Mock | - | ChÆ°a cÃ³ API |
| Rules | ğŸŸ¡ Mock | - | ChÆ°a cÃ³ API |
| Notifications | ğŸŸ¡ Mock | - | ChÆ°a cÃ³ API |
| User Management | ğŸŸ¡ Mock | - | ChÆ°a cÃ³ API |
| Settings | ğŸŸ¡ Mock | - | ChÆ°a cÃ³ API |

**Legend:**
- ğŸŸ¢ Connected: ÄÃ£ káº¿t ná»‘i API
- ğŸŸ¡ Mock: Äang dÃ¹ng mock data
- ğŸ”´ Error: CÃ³ lá»—i

---

## ğŸ“ BEST PRACTICES IMPLEMENTED

1. âœ… **Lazy loading táº¥t cáº£ pages** - Code splitting tá»± Ä‘á»™ng
2. âœ… **AbortController pattern** - TrÃ¡nh memory leaks
3. âœ… **Initial loading = true** - UX tá»‘t hÆ¡n
4. âœ… **TypeScript strict mode** - Type safety
5. âœ… **Tailwind CSS** - No inline styles
6. âœ… **Error handling centralized** - getErrorMessage()
7. âœ… **Service layer pattern** - Separation of concerns
8. âœ… **Custom hooks** - Reusable logic
9. âœ… **Context API** - Global state management
10. âœ… **Responsive design** - Mobile-first approach

---

## ğŸ“ DEVELOPMENT WORKFLOW

```bash
# Start dev server
npm run dev          # â†’ http://localhost:3000

# Build production
npm run build        # â†’ out/

# Preview production
npm run preview
```

---

**Last Updated:** 2025-11-08
**Version:** 1.0.0
**Maintainer:** Development Team
